<!DOCTYPE html>
<html>

<head>
  <style>
    table {
      font-family: Arial, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    table, th, td {
      border: 1px solid black;
    }

    th {
      background-color: #f2f2f2;
    }

    th, td {
      padding: 8px;
      text-align: left;
    }
  </style>
</head>

<body>

<table id="playerStatsTable">
  <tr>
    <th>Season</th>
    <th>Games Played</th>
    <th>Minutes</th>
    <th>Field Goals Made</th>
    <th>Field Goals Attempted</th>
    <th>Three-Point Field Goals Made</th>
    <th>Three-Point Field Goals Attempted</th>
    <th>Free Throws Made</th>
    <th>Free Throws Attempted</th>
    <th>Offensive Rebounds</th>
    <th>Defensive Rebounds</th>
    <th>Total Rebounds</th>
    <th>Assists</th>
    <th>Steals</th>
    <th>Blocks</th>
    <th>Turnovers</th>
    <th>Personal Fouls</th>
    <th>Points</th>
    <th>Field Goal Percentage</th>
    <th>Three-Point Percentage</th>
    <th>Free Throw Percentage</th>
  </tr>
</table>

<script>
  async function fetchPlayerData(playerId) {
    const response = await fetch(`https://www.balldontlie.io/api/v1/season_averages?player_ids[]=${playerId}`);
    const data = await response.json();
    return data.data;
  }

  async function generatePlayerStatsTable(playerId) {
    const playerStats = await fetchPlayerData(playerId);

    const table = document.getElementById("playerStatsTable");

    playerStats.forEach((seasonData) => {
      const row = table.insertRow(-1);
      Object.keys(seasonData).forEach((key) => {
        const cell = row.insertCell();
        cell.innerHTML = seasonData[key];
      });
    });
  }

  // Replace '237' with the player's actual ID
  generatePlayerStatsTable(237);
</script>

</body>

</html>
